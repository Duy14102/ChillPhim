import{C as u,r as d,j as e,B as c}from"./index-DS5FZUpn.js";import{a as p}from"./axios-CCb-kr4I.js";import{T as l}from"./ToastUpdate-CK40nDRU.js";function w(){const n=new u;if(n.get("TOKEN"))return window.location.href="/404";const a=d.useRef(null),[o,i]=d.useReducer((s,r)=>({...s,...r}),{username:"",password:""});function m(s){s.preventDefault(),a.current=c.loading("Chờ một chút...");const r={method:"post",url:"http://localhost:3000/api/v1/adminLogin",data:{username:o.username,password:o.password}};p(r).then(t=>{l({type:1,message:t.data.message,refCur:a.current}),n.set("TOKEN",t.data.token,{path:"/"}),window.location.href="/"}).catch(t=>{l({type:2,message:t.response.data.message,refCur:a.current})})}return e.jsx("div",{className:"administrator",children:e.jsxs("form",{onSubmit:s=>m(s),children:[e.jsx("div",{className:"loginTitle",children:e.jsx("span",{children:"Đăng nhập"})}),e.jsxs("div",{className:"rowForm",style:{marginTop:20},children:[e.jsx("label",{htmlFor:"username",children:"Tài khoản"}),e.jsx("input",{id:"username",type:"text",name:"username",placeholder:"",onChange:s=>i({username:s.target.value}),required:!0})]}),e.jsxs("div",{className:"rowForm",children:[e.jsx("label",{htmlFor:"password",children:"Mật khẩu"}),e.jsx("input",{id:"password",type:"password",name:"password",placeholder:"",onChange:s=>i({password:s.target.value}),required:!0})]}),e.jsx("button",{type:"submit",children:"Đăng nhập"})]})})}export{w as default};
