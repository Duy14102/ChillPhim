import{j as e}from"./index-DS5FZUpn.js";import{P as m}from"./Pagination-D3i9uWPX.js";function v({currentPage2:u,SearchMainFilm:C,state:t,setState:r,axios:c,toast:d,ToastUpdate:i,useRef:x,callCategories:s,useEffect:o}){const l=x(null);o(()=>{s(t.searchCateMain?t.searchCateMain:null)},[]);function g(n){n.preventDefault(),l.current=d.loading("Chờ một chút...");const h={method:"post",url:"http://localhost:3000/api/v1/addCategories",data:{title:t.newCateTitle,content:t.newCateContent}};c(h).then(a=>{i({type:1,message:a.data.message,refCur:l.current}),r({newCateTitle:"",newCateContent:"",wantAddNewCate:!1}),s(t.searchCateMain?t.searchCateMain:null)}).catch(a=>{i({type:2,message:a.response.data.message,refCur:l.current})})}function w(n){l.current=d.loading("Chờ một chút..."),c({method:"post",url:"http://localhost:3000/api/v1/deleteCategories",data:{title:n}}).then(a=>{i({type:1,message:a.data.message,refCur:l.current}),s(t.searchCateMain?t.searchCateMain:null)}).catch(a=>{i({type:2,message:a.response.data.message,refCur:l.current})})}return e.jsxs("div",{className:"categoriesControl",children:[e.jsxs("div",{className:"toolCate",children:[e.jsx(C,{search:t.searchCateMain,setState:r,callBacks:s,useEffect:o,type:2}),t.wantAddNewCate?e.jsxs(e.Fragment,{children:[e.jsx("button",{type:"submit",form:"addNewCateDiv",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:e.jsx("path",{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"})})}),e.jsx("button",{onClick:()=>r({wantAddNewCate:!1}),type:"button",className:"addNewButton",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:e.jsx("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"})})})]}):e.jsx("button",{onClick:()=>r({wantAddNewCate:!0}),type:"button",children:"Tạo mới"})]}),t.wantAddNewCate?e.jsx("form",{onSubmit:n=>g(n),id:"addNewCateDiv",className:"addNewCateDiv",children:e.jsxs("div",{className:"addNewCateDivChild",children:[e.jsxs("div",{className:"coverInputAddNew",children:[e.jsx("label",{htmlFor:"title",children:"Tiêu đề"}),e.jsx("input",{id:"title",type:"text",value:t.newCateTitle,onChange:n=>r({newCateTitle:n.target.value}),required:!0})]}),e.jsxs("div",{className:"coverInputAddNew",children:[e.jsx("label",{htmlFor:"content",children:"Mô tả"}),e.jsx("input",{id:"content",type:"text",value:t.newCateContent,onChange:n=>r({newCateContent:n.target.value}),required:!0})]})]})}):null,e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Tiêu đề"}),e.jsx("th",{children:"Mô tả"}),t.listCategories.length>0?e.jsx("th",{}):null]})}),e.jsx("tbody",{children:t.listCategories.length<1?e.jsx("tr",{children:e.jsx("td",{colSpan:3,children:"Hiện chưa có danh mục nào !"})}):t.listCategories.map(n=>e.jsxs("tr",{children:[e.jsx("td",{children:n.title}),e.jsx("td",{children:n.content}),e.jsx("td",{children:e.jsx("button",{onClick:()=>w(n.title),type:"button",className:"deleteAdminButton",children:e.jsx("svg",{className:"deleteSvg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:e.jsx("path",{d:"M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"})})})})]},n._id))})]}),t.listCategories.length>0?e.jsx(m,{searchEnale:t.searchCateMain,state:t,currentPage:u,pageCount:t.pageCount2,callBack:s}):null]})}export{v as default};
