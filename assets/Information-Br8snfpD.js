import{j as e,S as Y,u as Z,r as J}from"./index-DS5FZUpn.js";import{L as _}from"./LandingMovie-DC_KACF4.js";import{N as ee,H as se}from"./HaveReview-DYkSGq2n.js";import{a as d}from"./axios-CCb-kr4I.js";import"./ToastUpdate-CK40nDRU.js";function n({children:l,count:s,state:t}){return t?l:e.jsx(Y,{count:s})}function le(){var v,h,x,u,j,N,p,g,w,f,b,C,S,I,L,M,y,B,R,$,k,T,q,z,D,F,P,G,E,W,X,A,H;const l=Z(),[s,t]=J.useReducer((i,a)=>({...i,...a}),{toolsBar:1,movies:null,similarMovies:null,viewMoreCate:!1}),o=i=>s.toolsBar===i?"titleActive":"toolsBarTitle",K=i=>i?i.sort(()=>Math.random()-.5):[];function c(){const i={method:"get",url:"http://localhost:3000/api/v1/getMoviesIn4",params:{subtitle:l.Name}};d(i).then(a=>{t({movies:a.data.movies,similarMovies:a.data.similarMovies})})}J.useEffect(()=>{c()},[]);function O(i){const a=Math.floor(i/60),r=i%60;return a?`${a}h ${r}p`:`${r}p`}function Q(i,a){const r=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],U=new RegExp("\\.0+$|(?<=\\.[0-9]*[1-9])0+$"),m=r.findLast(V=>i>=V.value);return m?(i/m.value).toFixed(a).replace(U,"").concat(m.symbol):"0"}return e.jsxs("div",{className:"information",children:[e.jsxs("div",{className:"movieIn4",children:[e.jsx("img",{loading:"lazy",alt:(v=s.movies)==null?void 0:v.title,src:window.innerWidth<=991?(h=s.movies)==null?void 0:h.banner.horizontal:(x=s.movies)==null?void 0:x.banner.vertical}),e.jsxs("div",{className:"coverTextIn4",children:[e.jsx(n,{count:1,state:s.movies,children:e.jsx("h1",{className:"movieName",children:(u=s.movies)!=null&&u.movieSeason&&((j=s.movies)==null?void 0:j.movieSeason)!==""?`${(N=s.movies)==null?void 0:N.title} (Phần ${(p=s.movies)==null?void 0:p.movieSeason})`:(g=s.movies)==null?void 0:g.title})}),e.jsxs("div",{className:"movieSideIn4",children:[e.jsxs("div",{className:"leftSideIn4",children:[e.jsx(n,{state:s.movies,count:1,children:e.jsxs("div",{className:"categoryIn4",children:[(f=s.movies)==null?void 0:f.category.slice(0,s.viewMoreCate?(w=s.movies)==null?void 0:w.category.length:3).map(i=>e.jsx("a",{href:"/",className:"mainCategory",children:i},i)),e.jsx("div",{onClick:()=>t({viewMoreCate:!s.viewMoreCate}),className:"plusCateIn4",children:s.viewMoreCate?"Thu gọn":`+ ${((b=s.movies)==null?void 0:b.category.length)-3}`})]})}),e.jsx(n,{count:1,state:s.movies,children:e.jsxs("div",{className:"ratingIn4",children:[e.jsxs("div",{className:"ratingChild",children:[e.jsx("div",{className:"brandRate brandImdb",children:"IMDb"}),e.jsxs("div",{style:{letterSpacing:1},className:"rateScore",children:[(C=s.movies)==null?void 0:C.imdbScore,e.jsx("span",{style:{color:"gray"},children:"/10"})]})]}),e.jsxs("div",{className:"ratingChild",children:[e.jsx("div",{className:"brandRate brandAge",children:(S=s.movies)==null?void 0:S.ageRate}),e.jsx("div",{className:"rateScore",children:((I=s.movies)==null?void 0:I.ageRate)==="G"?"(Mọi lứa tuổi)":((L=s.movies)==null?void 0:L.ageRate)==="PG"?"(Cân nhắc cho trẻ nhỏ)":((M=s.movies)==null?void 0:M.ageRate)==="PG-13"?"(13+)":((y=s.movies)==null?void 0:y.ageRate)==="R"?"(18+)":"(XXX)"})]}),e.jsxs("div",{className:"ratingChild",children:[e.jsx("div",{className:"brandRate brandTime",children:"⌛"}),e.jsx("div",{className:"rateScore",children:O((B=s.movies)==null?void 0:B.time)})]})]})}),e.jsxs("div",{className:"crewIn4Responsive",children:[e.jsx(n,{count:1,state:s.movies,children:e.jsxs("div",{className:"crewIn4ResponsiveChild",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:e.jsx("path",{d:"M0 128C0 92.7 28.7 64 64 64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2l0 256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1l0-17.1 0-128 0-17.1 14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"})}),(R=s.movies)==null?void 0:R.crew.directors.map((i,a)=>e.jsxs("a",{href:`/List/Directors/${i.name}/Đạo diễn/NF`,children:[i.name,", "]},a))]})}),e.jsx(n,{count:1,state:s.movies,children:e.jsxs("div",{className:"crewIn4ResponsiveChild",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:e.jsx("path",{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"})}),($=s.movies)==null?void 0:$.crew.stars.map((i,a)=>e.jsxs("a",{href:`/List/Stars/${i.name}/Diễn viên/NF`,children:[i.name,", "]},a))]})}),e.jsx(n,{count:1,state:s.movies,children:e.jsxs("div",{className:"crewIn4ResponsiveChild",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e.jsx("path",{d:"M368.4 18.3L312.7 74.1 437.9 199.3l55.7-55.7c21.9-21.9 21.9-57.3 0-79.2L447.6 18.3c-21.9-21.9-57.3-21.9-79.2 0zM288 94.6l-9.2 2.8L134.7 140.6c-19.9 6-35.7 21.2-42.3 41L3.8 445.8c-3.8 11.3-1 23.9 7.3 32.4L164.7 324.7c-3-6.3-4.7-13.3-4.7-20.7c0-26.5 21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48c-7.4 0-14.4-1.7-20.7-4.7L33.7 500.9c8.6 8.3 21.1 11.2 32.4 7.3l264.3-88.6c19.7-6.6 35-22.4 41-42.3l43.2-144.1 2.7-9.2L288 94.6z"})}),(k=s.movies)==null?void 0:k.crew.screenWriters.map((i,a)=>e.jsxs("p",{children:[i.name,", "]},a))]})})]}),e.jsx(n,{count:5,state:s.movies,children:e.jsx("div",{className:"contentIn4",children:(T=s.movies)==null?void 0:T.content})}),e.jsx("div",{className:"buttonIn4",children:e.jsxs("a",{href:`/Streaming/${(q=s.movies)==null?void 0:q.subtitle}/${(z=s.movies)==null?void 0:z.filmSources[0].title}`,className:"playButton",children:["Xem phim",e.jsx("span",{style:{marginLeft:10},children:"▶"})]})})]}),e.jsxs("div",{className:"rightSideIn4",children:[e.jsxs("div",{className:"quiteIn4",children:[e.jsx("span",{className:"quiteName",children:"Đạo diễn"}),e.jsx(n,{count:1,state:s.movies,children:e.jsx("p",{className:"quiteContent",children:(D=s.movies)==null?void 0:D.crew.directors.map((i,a)=>e.jsxs("a",{href:`/List/Directors/${i.name}/Đạo diễn/NF`,children:[i.name,", "]},a))})})]}),e.jsxs("div",{className:"quiteIn4",children:[e.jsx("span",{className:"quiteName",children:"Diễn viên"}),e.jsx(n,{count:1,state:s.movies,children:e.jsx("p",{className:"quiteContent",children:(F=s.movies)==null?void 0:F.crew.stars.map((i,a)=>e.jsxs("a",{href:`/List/Stars/${i.name}/Diễn viên/NF`,children:[i.name,", "]},a))})})]}),e.jsxs("div",{className:"quiteIn4",children:[e.jsx("span",{className:"quiteName",children:"Biên kịch"}),e.jsx(n,{count:1,state:s.movies,children:e.jsx("div",{className:"quiteContent",children:(P=s.movies)==null?void 0:P.crew.screenWriters.map((i,a)=>e.jsxs("div",{children:[i.name,", "]},a))})})]})]})]})]})]}),e.jsxs("div",{className:"toolsBar",children:[e.jsxs("div",{className:"coverToolsBar",children:[e.jsx("button",{onClick:()=>t({toolsBar:1}),className:o(1),children:"Danh sách tập"}),e.jsxs("button",{onClick:()=>t({toolsBar:3}),className:o(3),children:["Đánh giá (",Q((G=s.movies)==null?void 0:G.comments.length),")"]}),e.jsx("button",{onClick:()=>t({toolsBar:2}),className:o(2),children:"Trailer"})]}),s.toolsBar===1?e.jsx(n,{count:1,state:s.movies,children:e.jsx("div",{className:"epsCover",children:(E=s.movies)==null?void 0:E.filmSources.map((i,a)=>{var r;return e.jsx("a",{href:`/Streaming/${(r=s.movies)==null?void 0:r.subtitle}/${i.title}`,className:"epsTool",children:i.title},a)})})}):s.toolsBar===2?e.jsx("iframe",{allowFullScreen:!0,src:(W=s.movies)==null?void 0:W.trailerSource}):e.jsx("div",{className:"rateCover",children:((X=s.movies)==null?void 0:X.comments.length)<1?e.jsx(ee,{movies:s.movies,axios:d,callBack:c}):e.jsx(se,{movies:s.movies,axios:d,callBack:c})})]}),(A=s.movies)!=null&&A.note?e.jsxs("div",{className:"noteIn4",children:[e.jsx("h3",{children:"Ghi chú: "}),e.jsx("p",{children:((H=s.movies)==null?void 0:H.note)||e.jsx(Skeleton,{})})]}):null,e.jsx(_,{Title:"Phim tương tự",MarginTop:window.innerWidth<=991?50:100,movie:K(s==null?void 0:s.similarMovies)})]})}export{le as default};
