import{j as e,S as J,u as Q,r as X}from"./index-DGwbCOoj.js";import{L as Z}from"./LandingMovie-Cxkqop7_.js";import{N as ee,H as se}from"./HaveReview-DZDzBk5b.js";import{a as _}from"./axios-CCb-kr4I.js";import"./ToastUpdate-CTTfq_-1.js";function r({children:l,count:s,state:o}){return o?l:e.jsx(J,{count:s})}var ne={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_e71b584f-1b61-44bd-9921-7117ae32344f",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_config_user_agent:"npm/10.7.0 node/v18.20.4 linux x64 workspaces/false ci/github-actions",CI:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_e71b584f-1b61-44bd-9921-7117ae32344f",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/usr/local/bin/node",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_config_noproxy:"",HOME:"/home/runner",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_json:"/home/runner/work/ChillPhim/ChillPhim/package.json",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"Duy14102",GRADLE_HOME:"/usr/share/gradle-8.10.2",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.1.12297006",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",GITHUB_REPOSITORY_OWNER_ID:"90895096",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_config_userconfig:"/home/runner/.npmrc",npm_config_local_prefix:"/home/runner/work/ChillPhim/ChillPhim",SYSTEMD_EXEC_PID:"602",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",COLOR:"0",NVM_DIR:"/home/runner/.nvm",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241015.1.0",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.8/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.2/x64",JOURNAL_STREAM:"8:20706",GITHUB_WORKFLOW:"Deploy",_:"/usr/local/bin/npm",npm_config_prefix:"/usr/local",npm_config_npm_version:"10.7.0",npm_config_cache:"/home/runner/.npm",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"11427112739",STATS_VMFE:"true",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"1ddc81e286a32d35abdeafbfc192e32cf223bd34",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",GITHUB_WORKFLOW_REF:"Duy14102/ChillPhim/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_config_node_gyp:"/usr/local/lib/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js",PATH:"/home/runner/work/ChillPhim/ChillPhim/node_modules/.bin:/home/runner/work/ChillPhim/node_modules/.bin:/home/runner/work/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/usr/local/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_c5789b8d-f6ca-4be7-a03a-5f4410d3393b",INVOCATION_ID:"cbdea8bdbf824f33a637abf9b856d780",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",NODE:"/usr/local/bin/node",npm_package_name:"chillphim",GITHUB_ACTION:"__run",GITHUB_RUN_NUMBER:"6",GITHUB_TRIGGERING_ACTOR:"Duy14102",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",CONDA:"/usr/share/miniconda",RUNNER_NAME:"GitHub Actions 14",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"Duy14102/ChillPhim",STATS_D_D:"true",npm_lifecycle_script:"vite build",STATS_UE:"true",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.1.12297006",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",GITHUB_REPOSITORY_ID:"868080583",GITHUB_ACTIONS:"true",npm_package_version:"0.0.0",npm_lifecycle_event:"build",GITHUB_REF_PROTECTED:"false",GITHUB_WORKSPACE:"/home/runner/work/ChillPhim/ChillPhim",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",GITHUB_SHA:"1ddc81e286a32d35abdeafbfc192e32cf223bd34",GITHUB_RUN_ATTEMPT:"1",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"Duy14102",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",LEIN_HOME:"/usr/local/lib/lein",npm_config_globalconfig:"/usr/local/etc/npmrc",npm_config_init_module:"/home/runner/.npm-init.js",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_e71b584f-1b61-44bd-9921-7117ae32344f",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/ChillPhim/ChillPhim",GITHUB_ACTOR_ID:"90895096",RUNNER_WORKSPACE:"/home/runner/work/ChillPhim",npm_execpath:"/usr/local/lib/node_modules/npm/bin/npm-cli.js",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.11.2-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_e71b584f-1b61-44bd-9921-7117ae32344f",npm_config_global_prefix:"/usr/local",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_command:"run-script",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.1.12297006",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdsettingscdn.blob.core.windows.net/settings/provjobdsettings-latest/provjobd.data",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.1.12297006",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_e71b584f-1b61-44bd-9921-7117ae32344f",INIT_CWD:"/home/runner/work/ChillPhim/ChillPhim",EDITOR:"vi",NODE_ENV:"production"};function te(){var d,u,h,v,N,T,E,p,R,I,b,O,x,j,g,A,f,S,C,H,D,U,P,B,G,L,w,M,k,y,F,V,W;const l=Q(),[s,o]=X.useReducer((n,i)=>({...n,...i}),{toolsBar:1,movies:null,similarMovies:null,viewMoreCate:!1}),t=n=>s.toolsBar===n?"titleActive":"toolsBarTitle",$=n=>n?n.sort(()=>Math.random()-.5):[];function c(){const n={method:"get",url:`${ne.REACT_APP_backendAPI}/api/v1/getMoviesIn4`,params:{subtitle:l.Name}};_(n).then(i=>{o({movies:i.data.movies,similarMovies:i.data.similarMovies})})}X.useEffect(()=>{c()},[]);function K(n){const i=Math.floor(n/60),a=n%60;return i?`${i}h ${a}p`:`${a}p`}function Y(n,i){const a=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],q=new RegExp("\\.0+$|(?<=\\.[0-9]*[1-9])0+$"),m=a.findLast(z=>n>=z.value);return m?(n/m.value).toFixed(i).replace(q,"").concat(m.symbol):"0"}return e.jsxs("div",{className:"information",children:[e.jsxs("div",{className:"movieIn4",children:[e.jsx("img",{loading:"lazy",alt:(d=s.movies)==null?void 0:d.title,src:window.innerWidth<=991?(u=s.movies)==null?void 0:u.banner.horizontal:(h=s.movies)==null?void 0:h.banner.vertical}),e.jsxs("div",{className:"coverTextIn4",children:[e.jsx(r,{count:1,state:s.movies,children:e.jsx("h1",{className:"movieName",children:(v=s.movies)!=null&&v.movieSeason&&((N=s.movies)==null?void 0:N.movieSeason)!==""?`${(T=s.movies)==null?void 0:T.title} (Phần ${(E=s.movies)==null?void 0:E.movieSeason})`:(p=s.movies)==null?void 0:p.title})}),e.jsxs("div",{className:"movieSideIn4",children:[e.jsxs("div",{className:"leftSideIn4",children:[e.jsx(r,{state:s.movies,count:1,children:e.jsxs("div",{className:"categoryIn4",children:[(I=s.movies)==null?void 0:I.category.slice(0,s.viewMoreCate?(R=s.movies)==null?void 0:R.category.length:3).map(n=>e.jsx("a",{href:"/",className:"mainCategory",children:n},n)),e.jsx("div",{onClick:()=>o({viewMoreCate:!s.viewMoreCate}),className:"plusCateIn4",children:s.viewMoreCate?"Thu gọn":`+ ${((b=s.movies)==null?void 0:b.category.length)-3}`})]})}),e.jsx(r,{count:1,state:s.movies,children:e.jsxs("div",{className:"ratingIn4",children:[e.jsxs("div",{className:"ratingChild",children:[e.jsx("div",{className:"brandRate brandImdb",children:"IMDb"}),e.jsxs("div",{style:{letterSpacing:1},className:"rateScore",children:[(O=s.movies)==null?void 0:O.imdbScore,e.jsx("span",{style:{color:"gray"},children:"/10"})]})]}),e.jsxs("div",{className:"ratingChild",children:[e.jsx("div",{className:"brandRate brandAge",children:(x=s.movies)==null?void 0:x.ageRate}),e.jsx("div",{className:"rateScore",children:((j=s.movies)==null?void 0:j.ageRate)==="G"?"(Mọi lứa tuổi)":((g=s.movies)==null?void 0:g.ageRate)==="PG"?"(Cân nhắc cho trẻ nhỏ)":((A=s.movies)==null?void 0:A.ageRate)==="PG-13"?"(13+)":((f=s.movies)==null?void 0:f.ageRate)==="R"?"(18+)":"(XXX)"})]}),e.jsxs("div",{className:"ratingChild",children:[e.jsx("div",{className:"brandRate brandTime",children:"⌛"}),e.jsx("div",{className:"rateScore",children:K((S=s.movies)==null?void 0:S.time)})]})]})}),e.jsxs("div",{className:"crewIn4Responsive",children:[e.jsx(r,{count:1,state:s.movies,children:e.jsxs("div",{className:"crewIn4ResponsiveChild",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:e.jsx("path",{d:"M0 128C0 92.7 28.7 64 64 64l256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64L64 448c-35.3 0-64-28.7-64-64L0 128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2l0 256c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1l0-17.1 0-128 0-17.1 14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"})}),(C=s.movies)==null?void 0:C.crew.directors.map((n,i)=>e.jsxs("a",{href:`/List/Directors/${n.name}/Đạo diễn/NF`,children:[n.name,", "]},i))]})}),e.jsx(r,{count:1,state:s.movies,children:e.jsxs("div",{className:"crewIn4ResponsiveChild",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:e.jsx("path",{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"})}),(H=s.movies)==null?void 0:H.crew.stars.map((n,i)=>e.jsxs("a",{href:`/List/Stars/${n.name}/Diễn viên/NF`,children:[n.name,", "]},i))]})}),e.jsx(r,{count:1,state:s.movies,children:e.jsxs("div",{className:"crewIn4ResponsiveChild",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e.jsx("path",{d:"M368.4 18.3L312.7 74.1 437.9 199.3l55.7-55.7c21.9-21.9 21.9-57.3 0-79.2L447.6 18.3c-21.9-21.9-57.3-21.9-79.2 0zM288 94.6l-9.2 2.8L134.7 140.6c-19.9 6-35.7 21.2-42.3 41L3.8 445.8c-3.8 11.3-1 23.9 7.3 32.4L164.7 324.7c-3-6.3-4.7-13.3-4.7-20.7c0-26.5 21.5-48 48-48s48 21.5 48 48s-21.5 48-48 48c-7.4 0-14.4-1.7-20.7-4.7L33.7 500.9c8.6 8.3 21.1 11.2 32.4 7.3l264.3-88.6c19.7-6.6 35-22.4 41-42.3l43.2-144.1 2.7-9.2L288 94.6z"})}),(D=s.movies)==null?void 0:D.crew.screenWriters.map((n,i)=>e.jsxs("p",{children:[n.name,", "]},i))]})})]}),e.jsx(r,{count:5,state:s.movies,children:e.jsx("div",{className:"contentIn4",children:(U=s.movies)==null?void 0:U.content})}),e.jsx("div",{className:"buttonIn4",children:e.jsxs("a",{href:`/Streaming/${(P=s.movies)==null?void 0:P.subtitle}/${(B=s.movies)==null?void 0:B.filmSources[0].title}`,className:"playButton",children:["Xem phim",e.jsx("span",{style:{marginLeft:10},children:"▶"})]})})]}),e.jsxs("div",{className:"rightSideIn4",children:[e.jsxs("div",{className:"quiteIn4",children:[e.jsx("span",{className:"quiteName",children:"Đạo diễn"}),e.jsx(r,{count:1,state:s.movies,children:e.jsx("p",{className:"quiteContent",children:(G=s.movies)==null?void 0:G.crew.directors.map((n,i)=>e.jsxs("a",{href:`/List/Directors/${n.name}/Đạo diễn/NF`,children:[n.name,", "]},i))})})]}),e.jsxs("div",{className:"quiteIn4",children:[e.jsx("span",{className:"quiteName",children:"Diễn viên"}),e.jsx(r,{count:1,state:s.movies,children:e.jsx("p",{className:"quiteContent",children:(L=s.movies)==null?void 0:L.crew.stars.map((n,i)=>e.jsxs("a",{href:`/List/Stars/${n.name}/Diễn viên/NF`,children:[n.name,", "]},i))})})]}),e.jsxs("div",{className:"quiteIn4",children:[e.jsx("span",{className:"quiteName",children:"Biên kịch"}),e.jsx(r,{count:1,state:s.movies,children:e.jsx("div",{className:"quiteContent",children:(w=s.movies)==null?void 0:w.crew.screenWriters.map((n,i)=>e.jsxs("div",{children:[n.name,", "]},i))})})]})]})]})]})]}),e.jsxs("div",{className:"toolsBar",children:[e.jsxs("div",{className:"coverToolsBar",children:[e.jsx("button",{onClick:()=>o({toolsBar:1}),className:t(1),children:"Danh sách tập"}),e.jsxs("button",{onClick:()=>o({toolsBar:3}),className:t(3),children:["Đánh giá (",Y((M=s.movies)==null?void 0:M.comments.length),")"]}),e.jsx("button",{onClick:()=>o({toolsBar:2}),className:t(2),children:"Trailer"})]}),s.toolsBar===1?e.jsx(r,{count:1,state:s.movies,children:e.jsx("div",{className:"epsCover",children:(k=s.movies)==null?void 0:k.filmSources.map((n,i)=>{var a;return e.jsx("a",{href:`/Streaming/${(a=s.movies)==null?void 0:a.subtitle}/${n.title}`,className:"epsTool",children:n.title},i)})})}):s.toolsBar===2?e.jsx("iframe",{allowFullScreen:!0,src:(y=s.movies)==null?void 0:y.trailerSource}):e.jsx("div",{className:"rateCover",children:((F=s.movies)==null?void 0:F.comments.length)<1?e.jsx(ee,{movies:s.movies,axios:_,callBack:c}):e.jsx(se,{movies:s.movies,axios:_,callBack:c})})]}),(V=s.movies)!=null&&V.note?e.jsxs("div",{className:"noteIn4",children:[e.jsx("h3",{children:"Ghi chú: "}),e.jsx("p",{children:((W=s.movies)==null?void 0:W.note)||e.jsx(Skeleton,{})})]}):null,e.jsx(Z,{Title:"Phim tương tự",MarginTop:window.innerWidth<=991?50:100,movie:$(s==null?void 0:s.similarMovies)})]})}export{te as default};
