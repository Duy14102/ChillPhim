import{r as i,j as e,O as c}from"./index-DS5FZUpn.js";import{a as d}from"./axios-CCb-kr4I.js";import o from"./ModalProps-BikT6mAw.js";function m(){var h;const[a,t]=i.useReducer((s,l)=>({...s,...l}),{categories:[],search:"",searchResults:[],showBars:!1,modalState:!1});i.useEffect(()=>{const s=document.querySelector("header");window.addEventListener("scroll",l=>{s.style.background=window.scrollY>200?"#25272C":"#202124",s.style.position=window.scrollY>200?"fixed":"absolute"}),fetch("http://localhost:3000/api/v1/getAllCategories").then(l=>l.json().then(r=>{t({categories:r})})).catch(()=>console.log("Categories empty!"))},[]),i.useEffect(()=>{if(a.search!==""){const s=setTimeout(()=>{n(a.search)},1e3);return()=>clearTimeout(s)}else setTimeout(()=>{t({searchResults:[]})},1e3)},[a.search]);function n(s){d({method:"get",url:"http://localhost:3000/api/v1/headerAutoComplete",params:{search:s}}).then(r=>{t({searchResults:r.data})})}return e.jsxs("header",{children:[e.jsx("div",{className:"coverHeader",children:e.jsxs("a",{className:"headerBrand",href:"/",children:[e.jsx("div",{className:"headerBrandName",children:"ChillPhim"}),e.jsx("div",{className:"headerBrandSlogan",children:e.jsx("span",{children:"Chill & Phim"})})]})}),e.jsxs("div",{className:"headerGate",children:[e.jsx("button",{style:{rotate:a.showBars?"90deg":null},onClick:()=>t({showBars:!a.showBars}),type:"button",className:"responsiveClass headerBarsButton",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:e.jsx("path",{d:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"})})}),e.jsxs("div",{style:window.innerWidth<1550&&!a.showBars?{opacity:0,visibility:"hidden"}:window.innerWidth<1550&&a.showBars?{opacity:1,visibility:"visible"}:null,className:"headerGateChildCover",children:[e.jsxs("div",{onClick:()=>t({modalState:!0}),className:"headerButtonSearch headerGateChild aloneGate",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:e.jsx("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})}),e.jsx("span",{children:"Tìm kiếm"})]}),e.jsx("a",{href:"/",className:"headerGateChild aloneGate",children:"Trang chủ"}),e.jsxs("div",{className:"headerGateChild genresGate",children:["Thể loại ▼",e.jsx("div",{className:"genresGateChild",children:(h=a.categories)==null?void 0:h.filter(s=>s.title!=="Anime"&&s.title!=="TV Show").map(s=>e.jsx("a",{href:`/List/Genres/${s.title}/${s.title}/NF`,children:s.title},s.title))})]}),e.jsxs("div",{className:"headerGateChild nationGate",children:["Quốc gia ▼",e.jsxs("div",{className:"nationGateChild",children:[e.jsx("a",{href:"/List/National/VN/Việt Nam/NF",children:"Việt Nam"}),e.jsx("a",{href:"/List/National/US UK/Âu - Mỹ/NF",children:"Âu - Mỹ"}),e.jsx("a",{href:"/List/National/TH/Thái Lan/NF",children:"Thái Lan"}),e.jsx("a",{href:"/List/National/CN/Trung Quốc/NF",children:"Trung Quốc"}),e.jsx("a",{href:"/List/National/KR/Hàn Quốc/NF",children:"Hàn Quốc"}),e.jsx("a",{href:"/List/National/JP/Nhật Bản/NF",children:"Nhật Bản"}),e.jsx("a",{href:"/List/National/IN/Ấn Độ/NF",children:"Ấn Độ"}),e.jsx("a",{href:"/List/National/FR/Pháp/NF",children:"Pháp"}),e.jsx("a",{href:"/List/National/All/Khác/NF",children:"Khác"})]})]}),e.jsx("a",{href:"/List/Type/Series/Phim Bộ/NF",className:"headerGateChild aloneGate",children:"Phim bộ"}),e.jsx("a",{href:"/List/Type/Single/Phim lẻ/NF",className:"headerGateChild aloneGate",children:"Phim lẻ"}),e.jsx("a",{href:"/List/Genres/Anime/Anime/NF",className:"headerGateChild aloneGate",children:"Anime"})]})]}),e.jsxs(o,{state:a,setState:t,children:[e.jsx("input",{className:"headerInputSearch",type:"text",placeholder:"Tìm kiếm phim...",value:a.search,onChange:s=>t({search:s.target.value})}),a.searchResults.length>0?e.jsxs("div",{className:"autoCompleteHeader",children:[a.searchResults.map(s=>e.jsxs("a",{href:`/Information/${s.subtitle}`,className:"autoCompleteChild",children:[e.jsx("img",{alt:s.title,src:s.banner.vertical}),e.jsxs("div",{className:"autoCompleteChildIn4",children:[e.jsx("h3",{children:s.title}),e.jsx("p",{children:s.subtitle}),e.jsxs("span",{children:["Năm: ",e.jsx("span",{style:{color:"#fff"},children:s.timeProduce.slice(0,4)})," - Rating: ",e.jsx("span",{style:{color:"#fff"},children:s.imdbScore}),"/10"]})]})]},s._id)),e.jsx("a",{href:`/List/Search/${a.search}/Tìm kiếm/NF`,className:"toAllSearch",children:"Xem tất cả"})]}):null]})]})}function j(){return e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(c,{})]})}export{j as default};
