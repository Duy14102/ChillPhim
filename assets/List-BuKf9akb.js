import{u as p,r as l,j as e,S as m}from"./index-DS5FZUpn.js";import{a as g}from"./axios-CCb-kr4I.js";import{P as x}from"./Pagination-D3i9uWPX.js";function S(){var o,c;const s=p(),[i,d]=l.useReducer((t,a)=>({...t,...a}),{listMovie:null,pageCount:6}),u=window.innerWidth<=991?14:15,n=l.useRef(1),h=s.Order==="National"?"Quốc gia":"Thể loại";function r(){const t={method:"get",url:"http://localhost:3000/api/v1/getMoviesList",params:{order:s.Order,type:s.Type,page:n.current,limit:u,sortMovie:s.Sort}};g(t).then(a=>{d({listMovie:a.data.results.result,pageCount:a.data.results.pageCount})})}return l.useEffect(()=>{r()},[]),e.jsxs("div",{className:"list",children:[e.jsxs("div",{className:"topList",children:[e.jsxs("h3",{children:[e.jsxs("span",{style:{color:"rgba(211,211,211,0.8)"},children:[h,":"]})," ",s.Order==="Directors"||s.Order==="Stars"||s.Order==="Search"?`${s.Calling} (${s.Type})`:s.Calling]}),e.jsxs("select",{defaultValue:s.Sort,onChange:t=>window.location.href=`/List/${s.Order}/${s.Type}/${s.Calling}/${t.target.value}`,children:[e.jsx("option",{hidden:!0,value:"",children:"Lọc phim..."}),e.jsx("option",{value:"MV",children:"Xem nhiều nhất"}),e.jsx("option",{value:"NF",children:"Phim mới"}),e.jsx("option",{value:"OF",children:"Phim cũ"}),e.jsx("option",{value:"AZ",children:"Tên A-Z"})]})]}),i.listMovie?e.jsxs("div",{className:"midList",children:[((o=i.listMovie)==null?void 0:o.length)>0?(c=i.listMovie)==null?void 0:c.map(t=>e.jsxs("div",{className:"coverList",children:[e.jsxs("a",{href:`/Information/${t.subtitle}`,children:[e.jsx("div",{className:"imgSwiper",children:e.jsx("img",{loading:"lazy",alt:t.title,src:t.banner.vertical})}),e.jsx("p",{className:"titleSwiper",children:e.jsx("span",{children:t.title})}),e.jsx("span",{className:"playButtonSwiper",children:"▶"})]}),e.jsx("div",{className:"filmTotal",children:t.totalEps?t.totalEps===1?"Tập Full":`${t.filmSources.length}/${t.totalEps}`:`${t.filmSources.length}/??`})]},t._id)):e.jsx("div",{className:"noFilmAnnounce",children:"Không có kết quả!"}),i.listMovie.length>0?e.jsx(x,{currentPage:n,pageCount:i.pageCount,callBack:r,searchEnale:""}):null]}):e.jsx(m,{count:3,containerClassName:"midList",width:"100%"})]})}export{S as default};
